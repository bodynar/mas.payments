doctype html

.actions
    button.btn.btn-outline-info(
        *ngFor='let action of actions',
        (click)='onActionClick(action)'
    ) {{ action }}

hr

.accordion
    input.accordion-switcher#filters-display(type='checkbox')
    label.accordion-label(for='filters-display') Payments filter
    .accordion-tab
        form.filters(
            #filtersForm='ngForm',
            (submit)='onSubmitClick(filtersForm)'
        )
            .filters_row
                label.filters_row_label.col-form-label-sm Payment for
                select.filters_row_filter.custom-select.m-form-control.custom-select-sm#month(
                    name='month',
                    [(ngModel)]='filters.month'
                )
                    option(
                        *ngFor='let month of months',
                        [ngValue]='month.id'
                    ) {{ month.name }}

            .filters_row
                label.filters_row_label.col-form-label-sm(for='paymentType') Payment type
                select.filters_row_filter.custom-select.m-form-control.custom-select-sm#paymentType(
                    name='paymentType',
                    [(ngModel)]='filters.paymentTypeId'
                )
                    option(
                        *ngFor='let paymentType of (paymentTypes$ | async)',
                        [ngValue]='paymentType.id'
                    ) {{ paymentType.name }}

            .filters_row
                label.filters_row_label.col-form-label-sm Amount
                select.filters_row_filter.small.custom-select.m-form-control.custom-select-sm(
                    (change)='onAmountFilterChanged($event.target.value)'
                )
                    option() 
                    option(value='between') Between
                    option(value='exactly') Exactly
                input.form-control.m-form-control.form-control-sm#exact(
                    *ngIf='(amountFilterType$ | async) == "exactly"',
                    type='text',
                    placeholder='Enter payment amount exact value',
                    name='exact',
                    [(ngModel)]='filters.amount.exact',
                    #exact='ngModel'
                )
                .filters_row.filters_row_multi-filers(
                    *ngIf='(amountFilterType$ | async) == "between"'
                )
                    input.date-filter.filters_row_filter.form-control.form-control-sm(
                        type='text',
                        name='minAmount',
                        [(ngModel)]='filters.amount.min',
                        #periodStart='ngModel',
                        placeholder='Minimum'
                    )
                    input.date-filter.filters_row_filter.form-control.form-control-sm(
                        type='text',
                        name='periodEnd',
                        [(ngModel)]='filters.amount.max',
                        #periodEnd='ngModel',
                        placeholder='Maximum'
                    )

            .filters_buttons
                button.btn.btn-outline-primary(type='submit') Filter

                button.btn.btn-outline-secondary(
                    type='button',
                    (click)='clearFilters()'
                ) Clear

.payments-list(
    [class.hidden]='isLoading$ | async'
)
    app-payment-item(
        *ngFor='let payment of (payments$ | async)',
        [payment]='payment',
        (deleteClick)='onDeleteRecordClick($event)',
        (editClick)='onEditRecordClick($event)',
        (typeClick)='onTypeClick($event)'
    )

img.loading-indicator(
    alt='loading..',
    src='images/loading.svg',
    *ngIf='isLoading$ | async'
)