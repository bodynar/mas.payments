doctype html

form.needs-validation(
    #addTypeForm='ngForm',
    [class.was-validated]='!!(whenSubmittedForm$ | async)',
    (submit)='onFormSubmit(addTypeForm)'
)
    .form-group
        label(for='name') Name
        input.form-control.m-form-control.form-control-sm#name(
            type='text',
            placeholder='Enter measurement type name',
            name='name',
            [(ngModel)]='addMeasurementTypeRequest.name',
            #name='ngModel',
            required='required',
            minlength='3',
            maxlength='15'
        )
        
    .form-group
        label(for='description') Description
        textarea.form-control.m-form-control.form-control-sm#description(
            placeholder='Enter description',
            name='description',
            [(ngModel)]='addMeasurementTypeRequest.description',
            #name='ngModel'
        )

    .form-group
        .row
            .col-2
                label(for='color') Badge color
                input.form-control.form-control-sm#color(
                    type='color',
                    name='color',
                    [(ngModel)]='addMeasurementTypeRequest.color',
                    #name='ngModel'
                )
            .col
                label(
                    title='Hover text below to see difference'
                ) Preview
                span.app-badge(
                    style='display: table',
                    [style.background-color]='badgeHovered ? addMeasurementTypeRequest.color : null',
                    [style.border-color]='addMeasurementTypeRequest.color',
                    
                    (mouseover)='badgeHovered = true',
                    (mouseleave)='badgeHovered = false'
                ) {{ addMeasurementTypeRequest.name || 'Name will be displayed here' }}
                //- [style.color]='badgeHovered ? getFontColor(addMeasurementTypeRequest.color) : "#000"',
    .form-group
        label(for='paymentType') Payment type
        select.custom-select.m-form-control.custom-select-sm(
            required='required',
            name='paymentType',
            [(ngModel)]='addMeasurementTypeRequest.paymentTypeId',
        )
            option(
                *ngFor='let paymentType of (paymentTypes$ | async)',
                [value]='paymentType.id'
            ) {{ paymentType.name }}
    
    button.btn.btn-outline-primary(type='submit') Add